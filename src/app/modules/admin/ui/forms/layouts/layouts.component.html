<div class="flex flex-col flex-auto min-w-0 relative">

    <!-- Header Countdown -->
    <div *ngFor="let count of countdownSettings; trackBy: trackByFn" class="checkout-countdown" [style.background-color]="count.bgColor">


        <div class="max-w-5xl flex flex-row items-center justify-center mx-auto">

            <!-- Countdown -->
            <div class="text-3xl font-semibold block" style="width: 140px;">
                <countdown class="px-4" [style.color]="count.textColor" [config]="{ leftTime: count.timeleft }"></countdown>
            </div>

            <!-- SVG icon -->
            <div class="pr-5 pl-6">
                <svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet" [style.fill]="count.svgColor" class="w-10 h-10">
                    <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" stroke="none">
                        <path
                            d="M2651 5004 c-69 -19 -108 -43 -161 -100 -136 -148 -114 -380 48 -499 26 -19 64 -40 85 -47 l37 -11 0 -127 0 -127 -72 -18 c-233 -56 -514 -194 -723 -354 -76 -58 -243 -218 -308 -296 l-50 -60 -383 -5 -382 -5 -26 -24 c-50 -48 -39 -133 21 -160 16 -7 129 -11 323 -11 165 0 300 -2 300 -4 0 -2 -24 -50 -54 -107 -29 -57 -68 -143 -86 -191 l-33 -88 -563 0 -563 0 -26 -22 c-34 -30 -44 -88 -20 -124 35 -53 41 -54 601 -54 l516 0 -6 -22 c-7 -27 -33 -217 -42 -300 l-5 -58 -230 0 c-250 0 -274 -4 -297 -55 -15 -33 -15 -57 0 -90 23 -51 47 -55 301 -55 l234 0 7 -80 c6 -77 42 -275 52 -292 3 -4 -141 -8 -321 -8 -353 0 -377 -3 -410 -54 -24 -36 -14 -94 20 -124 26 -22 27 -22 401 -22 l375 0 11 -32 c20 -58 115 -244 168 -329 194 -313 487 -575 825 -739 491 -239 1018 -271 1550 -95 87 29 331 145 408 195 81 52 96 124 35 175 -40 34 -83 32 -143 -6 -94 -60 -265 -140 -382 -179 -540 -179 -1129 -100 -1598 215 -748 503 -1014 1475 -626 2290 248 520 710 879 1291 1002 114 25 145 27 350 27 206 0 236 -2 351 -27 183 -39 296 -78 464 -162 168 -84 286 -164 417 -285 628 -579 769 -1532 334 -2263 -55 -94 -62 -118 -46 -158 21 -49 93 -74 141 -49 25 14 77 97 143 228 342 83 271 1498 -185 2112 -77 104 -247 281 -349 363 -214 173 -482 310 -743 379 l-87 23 0 125 0 125 56 24 c71 31 139 97 172 169 37 81 38 193 0 273 -36 79 -89 133 -166 171 l-67 33 -415 2 c-341 2 -425 0 -469 -13z m839 -190 c43 -9 97 -65 106 -108 8 -46 -10 -96 -47 -132 l-30 -29 -410 -3 c-399 -3 -412 -2 -444 18 -64 39 -84 129 -42 191 45 68 49 69 463 69 204 0 386 -3 404 -6z m-150 -576 l0 -103 -240 0 -240 0 0 103 0 102 240 0 240 0 0 -102z">
                        </path>
                        <path d="M2910 3663 c-207 -33 -359 -81 -520 -164 -419 -216 -710 -601 -812 -1073 -32 -148 -32 -455 1 -606 90 -422 331 -774 686 -1002 507 -326 1163 -326 1670 0 355 228 596 580 686 1002 33 151 33 458 1 606 -138 637 -632 1117 -1260 1225 -106 18 -372 25 -452 12z m405 -208 c584 -96 1030 -550 1121 -1140 19 -121 14 -343 -10 -455 -59 -273 -180 -496 -375 -690 -198 -197 -414 -314 -684 -371 -135 -29 -380 -32 -510 -6 -187 38 -372 115 -527 220 -41 29 -123 99 -181 157 -195 194 -316 417 -375 690 -24 112 -29 334 -10 455 90 586 537 1043 1115 1140 106 18 328 18 436 0z"></path>
                        <path d="M3051 3276 c-37 -20 -50 -55 -51 -129 0 -76 17 -118 57 -136 32 -15 59 -14 92 3 38 20 51 55 51 142 0 70 -2 78 -29 105 -33 32 -78 38 -120 15z"></path>
                        <path d="M3765 2916 c-16 -8 -142 -127 -279 -264 l-249 -250 -40 14 c-49 17 -150 17 -197 -1 l-35 -13 -126 124 c-116 114 -129 124 -163 124 -48 0 -72 -13 -91 -50 -31 -60 -24 -74 110 -209 l124 -126 -14 -49 c-32 -106 -8 -216 66 -299 120 -137 338 -137 458 0 74 83 98 193 66 299 l-15 49 260 260 c255 256 260 262 260 302 0 30 -7 47 -26 67 -15 14 -32 26 -40 26 -7 0 -18 2 -26 5 -7 2 -26 -2 -43 -9z m-589 -720 c40 -40 45 -83 15 -132 -57 -93 -201 -47 -201 65 0 51 54 101 110 101 34 0 48 -6 76 -34z"></path>
                        <path d="M1965 2196 c-46 -46 -43 -112 7 -149 29 -22 108 -33 161 -23 84 16 116 108 58 167 -28 28 -34 29 -116 29 -78 0 -88 -2 -110 -24z"></path>
                        <path d="M4009 2191 c-21 -22 -29 -39 -29 -66 0 -79 45 -109 158 -103 69 3 76 6 103 36 31 35 36 66 17 107 -18 40 -57 55 -143 55 -71 0 -79 -2 -106 -29z"></path>
                        <path d="M3073 1243 c-12 -2 -34 -18 -48 -34 -22 -27 -25 -40 -25 -110 0 -73 2 -81 29 -111 33 -37 82 -43 125 -14 35 22 46 53 46 126 0 32 -4 70 -10 84 -15 40 -70 68 -117 59z"></path>
                        <path d="M63 1595 c-99 -43 -71 -185 36 -185 96 0 138 124 59 173 -37 24 -61 27 -95 12z"></path>
                        <path d="M4389 831 c-38 -39 -39 -87 -3 -130 21 -26 33 -31 68 -31 49 0 79 18 96 59 40 98 -85 177 -161 102z"></path>
                    </g>
                </svg>
            </div>

            <!-- Countdown text -->
            <div class="text-md sm:text-lg block" [style.color]="count.textColor">
                {{ count.initialText }}
            </div>

        </div>


        <!-- Progress bar -->


        <div class="w-full h-2 bg-slate-50 mt-4">
            <div class="h-2 bg-amber-400" [style.width]="progress + '%'"></div>
        </div>


        <!-- <mat-progress-bar
            class="mt-3"
            [mode]="'determinate'"
            [value]="progressbarValue"></mat-progress-bar> -->



    </div>


    <!-- Main -->
    <div class="flex-auto px-4 py-10 mt-16 sm:px-10">

        <div class="max-w-6xl mx-auto">

            <!-- Header imgs -->
            <ng-container *ngFor="let img of headerImages; trackBy: trackByFn">
                <img class="{{ img.size }} rounded-lg border border-slate-200" src="{{ img.url }}">
            </ng-container>


            <div class="grid md:grid-cols-3 ">

                <div class="max-w-3xl md:col-span-2">
                    <form [formGroup]="planBillingForm" class="flex flex-col mt-3 pt-8 bg-card border border-slate-200 rounded-lg overflow-hidden">

                        <div class="grid sm:grid-cols-4 gap-3 px-5 sm:px-6 lg:px-10">

                            <!-- Step -->
                            <div class="sm:col-span-4 mb-3 sm:mb-4">
                                <div class="checkout-step-wrapper">
                                    <div class="checkout-step">
                                        <span>1</span>
                                    </div>
                                    <span class="text-xl font-medium">Suas informações</span>
                                </div>
                            </div>

                            <!-- Nome -->
                            <div class="sm:col-span-4">
                                <mat-form-field class="w-full" [floatLabel]="'always'">
                                    <mat-label>Nome completo:</mat-label>
                                    <mat-icon
                                        class="icon-size-4"
                                        [svgIcon]="'heroicons_solid:user'"
                                        matPrefix></mat-icon>
                                    <input
                                        [formControlName]="'name'"
                                        matInput
                                        [placeholder]="'Seu nome completo'">
                                </mat-form-field>
                            </div>

                            <!-- Email -->
                            <div class="sm:col-span-4">
                                <mat-form-field class="w-full">
                                    <mat-label>Seu e-mail:</mat-label>
                                    <mat-icon
                                        class="icon-size-4"
                                        [svgIcon]="'heroicons_solid:mail'"
                                        matPrefix></mat-icon>
                                    <input
                                        [formControlName]="'mail'"
                                        matInput>
                                </mat-form-field>
                            </div>

                            <!-- Phone -->
                            <div class="sm:col-span-2">
                                <mat-form-field class="w-full" [floatLabel]="'always'">
                                    <mat-label>Celular:</mat-label>
                                    <mat-icon
                                        class="icon-size-4"
                                        [svgIcon]="'heroicons_solid:phone'"
                                        matPrefix></mat-icon>
                                    <input
                                        [formControlName]="'phone'"
                                        type="tel"
                                        inputmode="numeric"
                                        mask="(00) 0000-0000||(00) 00000-0000"
                                        matInput>
                                </mat-form-field>
                            </div>

                            <!-- CPF -->
                            <div class="sm:col-span-2">
                                <mat-form-field class="w-full">
                                    <mat-label>CPF:</mat-label>
                                    <input
                                        [formControlName]="'doc'"
                                        mask="000.000.000-99"
                                        inputmode="numeric"
                                        matInput>
                                </mat-form-field>
                            </div>

                            <!-- Step -->
                            <div class="sm:col-span-4 mb-3 sm:mb-4 mt-5">
                                <div class="checkout-step-wrapper">
                                    <div class="checkout-step">
                                        <span>2</span>
                                    </div>
                                    <span class="text-xl font-medium">Dados de pagamento</span>
                                </div>
                            </div>

                            <div class="sm:col-span-4">

                                <!-- Payment methods -->
                                <div class="grid grid-cols-3 md:grid-cols-4 gap-3 w-full mb-3">
                                    <mat-radio-group
                                        class="invisible absolute w-0 h-0 pointer-events-none"
                                        [formControlName]="'plan'"
                                        #paymentMethodRadio="matRadioGroup">
                                        <ng-container *ngFor="let plan of plans; trackBy: trackByFn">
                                            <mat-radio-button [value]="plan.value"></mat-radio-button>
                                        </ng-container>
                                    </mat-radio-group>

                                    <ng-container *ngFor="let plan of plans; trackBy: trackByFn">
                                        <div
                                            class="relative flex flex-col items-start justify-start py-5 px-4 md:px-6 rounded-md border cursor-pointer bg-card"
                                            [ngClass]="{'ring ring-inset ring-primary opacity-100 border-slate-50': paymentMethodRadio.value === plan.value, 'opacity-50 grayscale border-slate-300' : paymentMethodRadio.value !== plan.value }"
                                            (click)="paymentMethodRadio.value = plan.value">
                                            <img src="{{plan.icon}}" style="width:18px" class="mb-2">
                                            <div class="font-medium">{{plan.label}}</div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>


                            <!-- Credit Card Tab -->
                            <div *ngIf="paymentMethodRadio.value == 'card'" class="sm:col-span-4 grid sm:grid-cols-4 gap-3 mb-6">
                                <!-- Card holder -->
                                <div class="sm:col-span-4">
                                    <mat-form-field class="fuse-mat-no-subscript w-full" hideRequiredMarker>
                                        <mat-label>Nome impresso no cartão:</mat-label>
                                        <input
                                            [formControlName]="'cardholder'"
                                            matInput
                                            required>
                                    </mat-form-field>
                                </div>
                                <!-- Card number -->
                                <div class="sm:col-span-4">
                                    <mat-form-field class="fuse-mat-no-subscript w-full" hideRequiredMarker>
                                        <mat-label>Número do cartão:</mat-label>
                                        <mat-icon
                                            class="icon-size-4"
                                            [svgIcon]="'heroicons_solid:credit-card'"
                                            matPrefix></mat-icon>
                                        <input
                                            [formControlName]="'cardNumber'"
                                            mask="0000 0000 0000 0000"
                                            inputmode="numeric"
                                            matInput
                                            required>
                                    </mat-form-field>
                                </div>
                                <!-- Card expiration -->
                                <div class="sm:col-span-2">
                                    <mat-form-field
                                        class="fuse-mat-no-subscript w-full"
                                        hideRequiredMarker
                                        [floatLabel]="'always'">
                                        <mat-label>Expiration date</mat-label>
                                        <mat-icon
                                            class="icon-size-4"
                                            [svgIcon]="'heroicons_solid:calendar'"
                                            matPrefix></mat-icon>
                                        <input
                                            [formControlName]="'cardExpiration'"
                                            [placeholder]="'MM / YY'"
                                            matInput
                                            required>
                                    </mat-form-field>
                                </div>
                                <!-- Card CVC -->
                                <div class="sm:col-span-2">
                                    <mat-form-field class="fuse-mat-no-subscript w-full" hideRequiredMarker>
                                        <mat-label>CVC</mat-label>
                                        <mat-icon
                                            class="icon-size-4"
                                            [svgIcon]="'heroicons_solid:lock-closed'"
                                            matPrefix></mat-icon>
                                        <input
                                            [formControlName]="'cardCVC'"
                                            matInput
                                            mask="000"
                                            inputmode="numeric"
                                            required>
                                    </mat-form-field>
                                </div>
                                <!-- Parcelamento -->
                                <div class="sm:col-span-4">
                                    <mat-form-field
                                        class="fuse-mat-no-subscript w-full"
                                        hideRequiredMarker
                                        [floatLabel]="'always'">
                                        <mat-label>Parcelamento:</mat-label>
                                        <mat-select [placeholder]="'Selecione o parcelamento'" [formControlName]="'installments'">
                                            <ng-container *ngFor="let i of cardInstallments; trackBy: trackByFn">
                                                <mat-option value="{{ i.value }}">{{ i.value }} {{ i.installment | currency }}</mat-option>
                                            </ng-container>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                            <!-- Credit Card Tab End -->


                            <!-- PIX Tab -->
                            <div *ngIf="paymentMethodRadio.value == 'pix'" class="sm:col-span-4 grid sm:grid-cols-4 gap-3">
                                <div class="sm:col-span-4">
                                    <p class="mb-6 font-medium text-lg">Pague no PIX</p>

                                    <div class="pix-li">
                                        <mat-icon svgIcon="heroicons_outline:thumb-up"></mat-icon>
                                        <span>Imediato</span>
                                    </div>
                                    <span class="text-slate-400 block mb-6">Ao selecionar a opção Gerar Pix, o código para pagamento estará disponível.</span>

                                    <div class="pix-li">
                                        <mat-icon svgIcon="heroicons_outline:qrcode"></mat-icon>
                                        <span>Pagamento simples</span>
                                    </div>
                                    <span class="text-slate-400 block mb-6">Basta abrir o aplicativo do seu banco, procurar pelo PIX e escanear o QRcode.</span>

                                    <div class="pix-li">
                                        <mat-icon svgIcon="heroicons_outline:shield-check"></mat-icon>
                                        <span>100% Seguro</span>
                                    </div>
                                    <span class="text-slate-400 block mb-6">O pagamento com PIX foi desenvolvido pelo Banco Central para facilitar suas compras.</span>

                                </div>
                            </div>
                            <!-- PIX Tab End -->




                            <div class="sm:col-span-4 mt-2">
                                <p class="text-lg font-medium">Aproveite e leve também</p>
                                <p class="text-secondary">
                                    Leve também estas ofertas exclusivas!
                                </p>

                                <!-- Order Bumps -->

                                <div class="mt-4">


                                    <!-- 

                                        ###### Fazer o toggle select no checkbox aqui ######

                                     -->
                                    <div class="orderbump mb-4" matRipple [matRippleColor]="'#99999933'" *ngFor="let ob of orderBumps">

                                        <!-- Header Order bump -->
                                        <div class="w-full flex items-center justify-center mb-1 p-2" style="background-color: #ecebf5;">
                                            <!-- Arrow right svg -->
                                            <svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 690 512" preserveAspectRatio="xMidYMid meet" style="margin-left: -0.25rem; fill: #dc2626; padding-bottom: 0.2rem;" class="orderbump-arrow w-10">
                                                <g xmlns="http://www.w3.org/2000/svg">
                                                    <path d="m596.39 279.65c-0.0625-3.1133-1.4961-6.1758-3.8516-8.2227l-156.8-134.33c-3.2383-2.8125-8.1562-3.5117-12.051-1.7148-3.8945 1.7969-6.5469 5.9961-6.5 10.285v67.164h-302.39c-5.8633 0-11.199 5.332-11.199 11.195v111.94c0 5.8594 5.3359 11.191 11.199 11.195h302.39v67.164c-0.042968 4.2852 2.6055 8.4844 6.5 10.285 3.8945 1.7969 8.8125 1.0977 12.051-1.7148l156.8-134.32c2.5312-2.1953 3.9883-5.5742 3.8516-8.918z" />
                                                </g>
                                            </svg>
                                            <span class="md:ml-1" style="font-size: 1rem !important; font-weight: 500 !important; font-style: italic;">Sim! Quero levar também</span>
                                        </div>

                                        <div class="flex" style="padding: 1rem 16px 1.5rem 16px;">
                                            <mat-checkbox [value]="ob.productId" class="mr-2"></mat-checkbox>
                                            <img class="w-14 h-14 mr-3 sm:mr-4 rounded object-cover border border-slate-200" src="{{ ob.productImg }}">
                                            <div class="flex flex-col min-w-0">
                                                <div class="font-semibold mb-1 text-lg leading-7">{{ ob.heading }}</div>
                                                <div class="text-md leading-5">{{ ob.sub }}</div>
                                                <div class="text-md leading-5 text-secondary mt-2">De <span class="line-through">{{ ob.fakePrice | currency }}</span> por {{ ob.price | currency }}</div>
                                            </div>
                                        </div>


                                    </div>

                                </div>



                                <!-- <p>
                                    Options selected: {{ ob.selectedOptions.selected.length }}
                                </p> -->


                            </div>




                        </div>


                        <div class="flex flex-col items-center justify-center mt-3 px-6 py-8 md:rounded-bl-lg lg:px-10">
                            <button class="buy-btn" data-primary="green-400" data-rounded="rounded-2xl" data-primary-reset="{}" [class.spinner]="loading" [disabled]="loading" (click)="OnPurchase()">
                                Comprar agora
                            </button>

                            <div class="text-sm text-slate-400 block mt-5 flex items-center justify-center">
                                <mat-icon class="icon-size-3 text-slate-400 mr-2" svgIcon="heroicons_outline:lock-closed" style="margin-bottom: 0.1rem;"></mat-icon>
                                Você está em um ambiente seguro.
                            </div>
                        </div>

                    </form>
                </div>


                <div class="max-w-xl md:pl-4 md:pr-0 pt-3 md:col-span-1">

                    <div class="grid grid-cols-1 gap-4">

                        <!-- Badge icons -->
                        <div class="w-full">
                            <ng-container *ngFor="let b of badgeIcons; trackBy: trackByFn">
                                <div class="flex items-start rounded-xl bg-white border p-4 mb-2">
                                    <div class="flex h-10 items-center justify-center">
                                        <mat-icon svgIcon="heroicons_outline:{{b.icon}}" class="h-8 "></mat-icon>
                                    </div>
                                    <div class="ml-3">
                                        <h2 class="font-semibold italic">{{ b.title }}</h2>
                                        <p class="mt-1 text-sm text-gray-500">{{ b.text }}</p>
                                    </div>
                                </div>
                            </ng-container>
                        </div>

                        <!-- Side image -->
                        <ng-container *ngFor="let img of sideImages; trackBy: trackByFn">
                            <img src="{{ img.url }}" class="{{ img.width }} mx-auto rounded-lg mb-2" />
                        </ng-container>

                        <!-- Testimonials -->
                        <ng-container *ngFor="let t of testimonials; trackBy: trackByFn">
                            <div class="flex flex-col rounded-xl bg-white border px-4 py-6 mb-2">
                                <!-- Img user -->
                                <div class="relative mx-auto mt-2 mb-6">
                                    <img src="{{ t.img }}" class="h-16 w-16 rounded-full drop-shadow-xl" />
                                    <!-- Checkmark -->
                                    <mat-icon class="top-12 left-12 absolute icon-size-5 bg-card rounded-full" style="color: dodgerblue;" svgIcon="heroicons_solid:check-circle"></mat-icon>
                                </div>


                                <!-- Stars -->
                                <div class="testimonial-icon">

                                    <ng-container *ngFor="let starFull of [].constructor( t.rate );">
                                        <mat-icon svgIcon="mat_solid:star"></mat-icon>
                                    </ng-container>

                                    <ng-container *ngFor="let starOutline of [].constructor( 5 - t.rate );">
                                        <mat-icon svgIcon="mat_solid:star_outline"></mat-icon>
                                    </ng-container>

                                    <!-- <mat-icon svgIcon="mat_solid:star_half"></mat-icon> -->
                                </div>
                                <p class="mt-3 text-center text-lg text-gray-500 italic">“{{ t.text }}”</p>
                                <h2 class="mt-3 text-center font-semibold">{{ t.name }}</h2>
                            </div>
                        </ng-container>

                    </div>

                    <!-- Breadcrumbs -->
                    <!-- <div class="flex flex-wrap items-center font-medium px-2">
                        <div>
                            <a class="text-primary-500">Checkout</a>
                        </div>
                        <div class="flex items-center ml-1 whitespace-nowrap">
                            <mat-icon
                                class="icon-size-5 text-secondary"
                                [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
                            <a class="ml-1 text-primary-500">Resumo da compra</a>
                        </div>
                    </div> -->

                </div>

            </div>


            <!-- Processed -->
            <div class="max-w-3xl text-xs text-slate-400 block mt-12 px-1 md:px-2">
                <span class="block mb-2">Esta compra é processada por Pepper Tecnologia e Pagamentos Ltda. *Taxa de 2,99% a.m.</span>
                <span class="block mb-2">Dúvidas? Entre em contato com o produtor: <a href="#" class="text-slate-600 underline">contato@produtor.uy</a></span>
            </div>

        </div>

    </div>




    <fuse-alert
        [appearance]="'soft'"
        [dismissible]="true"
        [dismissed]="true"
        [name]="'notification1'"
        [type]="'primary'">
        <mat-icon class="circle pulse" fuseAlertIcon [svgIcon]="'heroicons_solid:shopping-cart'"></mat-icon>
        <span>24 pessoas estão olhando este produto agora.</span>
    </fuse-alert>





</div>